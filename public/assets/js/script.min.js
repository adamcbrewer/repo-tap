(function(e){e=e||{};e.socket.on("server msg",function(e){console.info(e.msg)});e.socket.on("all changesets",function(t){e.showCommits(t.results.commits)});e.socket.on("debug",function(e){console.dir(e)});e.socket.on("update stats",function(e){var t=this.commitStats||$("#commit-stats"),n=e.results,r=t.find('[data-live="connected-users"]'),i=t.find('[data-live="total-commits"]'),s=t.find('[data-live="timeout"]');n.connectedClients&&r.fadeOut(200,function(){this.innerHTML=n.connectedClients;r.fadeIn(200)});n.totalCommits&&i.fadeOut(200,function(){this.innerHTML=n.totalCommits;i.fadeIn(200)});n.timeout&&s.fadeOut(200,function(){this.innerHTML=n.timeout;s.fadeIn(200)})});e.showCommits=function(e){e=e||[];var t=e.length,n=this.commits.find(".commit").length,r=this;$.each(e,function(e,t){r.commits.prepend(t)})}})(App);$(function(){App.commits=$("#commits");App.commitStats=$("#commit-stats");App.commits.on("click",'[data-action="toggle-details"]',function(e){e.preventDefault();var t=$(this).parents("[data-node]").find('[data-result="toggle-details"]');t.toggleClass("hidden")})});